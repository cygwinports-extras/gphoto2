--- origsrc/gphoto2-2.4.2/configure.ac	2008-07-13 16:09:07.000000000 -0500
+++ src/gphoto2-2.4.2/configure.ac	2008-07-16 22:33:50.343750000 -0500
@@ -142,10 +142,10 @@
 ])
 if $try_cdk; then
         CPPFLAGS_save="$CPPFLAGS"
-        CPPFLAGS="-I$cdk_prefix/include $CPPFLAGS"
+        CPPFLAGS="-I$cdk_prefix/include/cdk -I$cdk_prefix/include $CPPFLAGS"
         AC_CHECK_HEADER([cdk/cdk.h], [
                 have_cdk=:
-                CDK_CFLAGS="-I$cdk_prefix/include"
+                CDK_CFLAGS="-I$cdk_prefix/include/cdk -I$cdk_prefix/include"
                 CDK_LIBS="-L$cdk_prefix/lib -lcdk -lncurses"
                 AC_DEFINE([HAVE_CDK],1,[whether we have CDK])
                 LDFLAGS_save="$LDFLAGS"
--- origsrc/gphoto2-2.4.2/gphoto2/Makefile.am	2007-07-27 00:52:41.000000000 -0500
+++ src/gphoto2-2.4.2/gphoto2/Makefile.am	2008-07-16 22:33:50.359375000 -0500
@@ -47,7 +47,7 @@
 
 gphoto2_LDADD =								\
 	$(CDK_LIBS) $(AA_LIBS) $(JPEG_LIBS) $(PTHREAD_LIBS)		\
-	$(LIBEXIF_LIBS) $(INTLLIBS) $(RL_LIBS) $(LIBGPHOTO2_LIBS) $(POPT_LIBS)
+	$(LIBEXIF_LIBS) $(LTLIBINTL) $(RL_LIBS) $(LIBGPHOTO2_LIBS) $(POPT_LIBS)
 
 TESTS = spawntest
 
--- origsrc/gphoto2-2.4.2/m4m/gp-check-library.m4	2007-07-27 00:56:08.000000000 -0500
+++ src/gphoto2-2.4.2/m4m/gp-check-library.m4	2008-07-16 22:33:50.375000000 -0500
@@ -79,6 +79,7 @@
 	*solaris*)	soext=".so" ;;
 	*bsd*)		soext=".so" ;;
 	*darwin*)	soext=".dylib" ;;
+	*cygwin*)	soext=".dll" ;;
 	*w32*)		soext=".dll" ;;
 esac
 if test "x$soext" = "x"; then
--- origsrc/gphoto2-2.4.2/m4m/gp-libltdl.m4	2008-03-18 16:15:42.000000000 -0500
+++ src/gphoto2-2.4.2/m4m/gp-libltdl.m4	2008-07-16 22:33:50.390625000 -0500
@@ -13,7 +13,7 @@
 if test "x${LTDLINCL}${LIBLTDL}" = "x"; then
 AC_CHECK_HEADER([ltdl.h],
 [dnl
-AC_CHECK_LIB([ltdl], [lt_dlcaller_register],[dnl
+AC_CHECK_LIB([ltdl], [lt_dlinit],[dnl
 LTDLINCL=""
 LIBLTDL="-lltdl"
 AC_DEFINE([HAVE_LTDL],[1],[Whether libltdl (of libtool fame) is present])
